(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))A(x);new MutationObserver(x=>{for(const M of x)if(M.type==="childList")for(const j of M.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&A(j)}).observe(document,{childList:!0,subtree:!0});function u(x){const M={};return x.integrity&&(M.integrity=x.integrity),x.referrerPolicy&&(M.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?M.credentials="include":x.crossOrigin==="anonymous"?M.credentials="omit":M.credentials="same-origin",M}function A(x){if(x.ep)return;x.ep=!0;const M=u(x);fetch(x.href,M)}})();const at=a=>a.key==="Escape",Re=a=>document.getElementById(a).content.firstElementChild,Ue=(a,v=!0)=>{a.classList.toggle("hidden",!v),document.body.classList.toggle("modal-open",v)},nt=(a,v)=>{if(!a.classList.length)return null;const u=a.classList[0];return a.querySelector(`.${u}__${v}`)},Rt=Re("success"),Br=Re("error"),Kr=5e3,Ut=(a=Rt)=>{const v=a.cloneNode(!0),u=nt(v,"button");document.body.append(v);const A=()=>{v.removeEventListener("click",x),document.removeEventListener("keydown",M,{capture:!0}),v.remove()};v.addEventListener("click",x),document.addEventListener("keydown",M,{capture:!0});function x(j){const oe=j.target===v,le=j.target===u;(oe||le)&&A()}function M(j){at(j)&&(j.preventDefault(),j.stopPropagation(),A())}return setTimeout(A,Kr),v},Gr=()=>Ut(Rt),qt=a=>{const v=Ut(Br);if(a){const u=nt(v,"button"),A=nt(v,"title");A.textContent=a.title,u.addEventListener("click",a.ctaCallback)}},Wr="https://28.javascript.pages.academy/kekstagram",Ft={GET_DATA:"/data",SEND_DATA:"/"},Ht={GET:"GET",POST:"POST"},Xr={GET_DATA:"Не удалось загрузить данные. Попробуйте обновить страницу"},Nt=(a,v=Ht.GET,u=null)=>fetch(`${Wr}${a}`,{method:v,body:u}).then(A=>{if(!A.ok)throw new Error;return A.json()}),zt=()=>Nt(Ft.GET_DATA).catch(()=>qt({title:Xr.GET_DATA,ctaCallback:()=>location.reload()})),Zr=a=>Nt(Ft.SEND_DATA,Ht.POST,a),Yr=a=>zt().then(v=>v.find(u=>u.id===a)),Jr=5,ot=document.querySelector(".comments-loader"),Qr=document.querySelector(".social__comment-count"),st=document.querySelector(".social__comments"),en=Re("usersComments");let Se=[];const tn=({avatar:a,name:v,message:u})=>{const A=en.cloneNode(!0),x=A.querySelector(".social__picture");return x.src=a,x.alt=v,A.querySelector(".social__text").textContent=u,A},rn=new Intl.PluralRules("ru-RU"),nn=a=>{switch(a){case"one":return"комментария";default:return"комментариев"}},sn=(a,v)=>{const u=rn.select(v),A=nn(u);Qr.textContent=`${a} из ${v} ${A}`},an=()=>{const a=st.children.length;let v=a+Jr;const u=v>=Se.length;v=u?Se.length:v;const A=Se.slice(a,v),x=document.createDocumentFragment();for(const M of A)x.appendChild(tn(M));st.appendChild(x),sn(v,Se.length),ot.hidden=u};ot.addEventListener("click",an);const on=a=>{Se=a,ot.click()},ln=()=>{st.innerHTML="",Se=[]},Ee=document.querySelector(".big-picture"),cn=Ee.querySelector(".big-picture__img img"),un=Ee.querySelector(".social__caption"),fn=Ee.querySelector(".likes-count"),dn=Ee.querySelector(".big-picture__cancel"),It=a=>{at(a)&&(a.preventDefault(),jt())},pn=a=>{cn.src=a.url,fn.textContent=a.likes,un.textContent=a.description,on(a.comments)},mn=async a=>{a.preventDefault();const v=parseInt(a.currentTarget.dataset.id,10),u=await Yr(v);pn(u),Ue(Ee),document.addEventListener("keydown",It)};function jt(){Ue(Ee,!1),document.removeEventListener("keydown",It),ln()}dn.addEventListener("click",jt);const hn=document.querySelector(".pictures"),vn=Re("picture"),gn=({url:a,likes:v,comments:u,id:A,description:x})=>{const M=vn.cloneNode(!0),j=M.querySelector(".picture__img");return j.src=a,j.alt=x,M.querySelector(".picture__likes").textContent=v,M.querySelector(".picture__comments").textContent=u.length,M.dataset.id=A,M},Sn=a=>{const v=document.createDocumentFragment();for(const u of a){const A=gn(u);A.addEventListener("click",mn),v.appendChild(A)}hn.appendChild(v)};zt().then(Sn);var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function En(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var it={},bn={get exports(){return it},set exports(a){it=a}};(function(a,v){(function(u,A){a.exports=A()})($t,function(){var u={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match"}};function A(w,g){for(;(w=w.parentElement)&&!w.classList.contains(g););return w}function x(w){var g=arguments;return this.replace(/\${([^{}]*)}/g,function(T,h){return g[h]})}function M(w){return w.pristine.self.form.querySelectorAll('input[name="'+w.getAttribute("name")+'"]:checked').length}function j(w,g){for(var T in g)T in w||(w[T]=g[T]);return w}var oe={classTo:"form-group",errorClass:"has-danger",successClass:"has-success",errorTextParent:"form-group",errorTextTag:"div",errorTextClass:"text-help"},le="pristine-error",Ne="input:not([type^=hidden]):not([type^=submit]), select, textarea",ze=["required","min","max","minlength","maxlength","pattern"],ee=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,xe=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,te="en",ce={},J=function(g,T){T.name=g,T.priority===void 0&&(T.priority=1),ce[g]=T};J("text",{fn:function(g){return!0},priority:0}),J("required",{fn:function(g){return this.type==="radio"||this.type==="checkbox"?M(this):g!==void 0&&g!==""},priority:99,halt:!0}),J("email",{fn:function(g){return!g||ee.test(g)}}),J("number",{fn:function(g){return!g||!isNaN(parseFloat(g))},priority:2}),J("integer",{fn:function(g){return!g||/^\d+$/.test(g)}}),J("minlength",{fn:function(g,T){return!g||g.length>=parseInt(T)}}),J("maxlength",{fn:function(g,T){return!g||g.length<=parseInt(T)}}),J("min",{fn:function(g,T){return!g||(this.type==="checkbox"?M(this)>=parseInt(T):parseFloat(g)>=parseFloat(T))}}),J("max",{fn:function(g,T){return!g||(this.type==="checkbox"?M(this)<=parseInt(T):parseFloat(g)<=parseFloat(T))}}),J("pattern",{fn:function(g,T){var h=T.match(new RegExp("^/(.*?)/([gimy]*)$"));return!g||new RegExp(h[1],h[2]).test(g)}}),J("equals",{fn:function(g,T){var h=document.querySelector(T);return h&&(!g&&!h.value||h.value===g)}});function N(w,g,T){var h=this;me(w,g,T);function me(f,E,_){f.setAttribute("novalidate","true"),h.form=f,h.config=j(E||{},oe),h.live=_!==!1,h.fields=Array.from(f.querySelectorAll(Ne)).map(function(b){var L=[],V={},K={};return[].forEach.call(b.attributes,function(W){if(/^data-pristine-/.test(W.name)){var ne=W.name.substr(14),ve=ne.match(xe);if(ve!==null){var Ce=ve[1]===void 0?"en":ve[1];K.hasOwnProperty(Ce)||(K[Ce]={}),K[Ce][ne.slice(0,ne.length-ve[0].length)]=W.value;return}ne==="type"&&(ne=W.value),be(L,V,ne,W.value)}else~ze.indexOf(W.name)?be(L,V,W.name,W.value):W.name==="type"&&be(L,V,W.value)}),L.sort(function(W,ne){return ne.priority-W.priority}),h.live&&b.addEventListener(~["radio","checkbox"].indexOf(b.getAttribute("type"))?"change":"input",function(W){h.validate(W.target)}.bind(h)),b.pristine={input:b,validators:L,params:V,messages:K,self:h}}.bind(h))}function be(f,E,_,b){var L=ce[_];if(L&&(f.push(L),b)){var V=_==="pattern"?[b]:b.split(",");V.unshift(null),E[_]=V}}h.validate=function(f,E){E=f&&E===!0||f===!0;var _=h.fields;f!==!0&&f!==!1&&(f instanceof HTMLElement?_=[f.pristine]:(f instanceof NodeList||f instanceof(window.$||Array)||f instanceof Array)&&(_=Array.from(f).map(function(K){return K.pristine})));for(var b=!0,L=0;_[L];L++){var V=_[L];ye(V)?!E&&ue(V):(b=!1,!E&&Pe(V))}return b},h.getErrors=function(f){if(!f){for(var E=[],_=0;_<h.fields.length;_++){var b=h.fields[_];b.errors.length&&E.push({input:b.input,errors:b.errors})}return E}return f.tagName&&f.tagName.toLowerCase()==="select"?f.pristine.errors:f.length?f[0].pristine.errors:f.pristine.errors};function ye(f){for(var E=[],_=!0,b=0;f.validators[b];b++){var L=f.validators[b],V=f.params[L.name]?f.params[L.name]:[];if(V[0]=f.input.value,!L.fn.apply(f.input,V)&&(_=!1,typeof L.msg=="function"?E.push(L.msg(f.input.value,V)):typeof L.msg=="string"?E.push(x.apply(L.msg,V)):L.msg===Object(L.msg)&&L.msg[te]?E.push(x.apply(L.msg[te],V)):f.messages[te]&&f.messages[te][L.name]?E.push(x.apply(f.messages[te][L.name],V)):u[te]&&u[te][L.name]&&E.push(x.apply(u[te][L.name],V)),L.halt===!0))break}return f.errors=E,_}h.addValidator=function(f,E,_,b,L){f instanceof HTMLElement?(f.pristine.validators.push({fn:E,msg:_,priority:b,halt:L}),f.pristine.validators.sort(function(V,K){return K.priority-V.priority})):console.warn("The parameter elem must be a dom element")};function he(f){if(f.errorElements)return f.errorElements;var E=A(f.input,h.config.classTo),_=null,b=null;return h.config.classTo===h.config.errorTextParent?_=E:_=E.querySelector("."+h.config.errorTextParent),_&&(b=_.querySelector("."+le),b||(b=document.createElement(h.config.errorTextTag),b.className=le+" "+h.config.errorTextClass,_.appendChild(b),b.pristineDisplay=b.style.display)),f.errorElements=[E,b]}function Pe(f){var E=he(f),_=E[0],b=E[1];_&&(_.classList.remove(h.config.successClass),_.classList.add(h.config.errorClass)),b&&(b.innerHTML=f.errors.join("<br/>"),b.style.display=b.pristineDisplay||"")}h.addError=function(f,E){f=f.length?f[0]:f,f.pristine.errors.push(E),Pe(f.pristine)};function Ie(f){var E=he(f),_=E[0],b=E[1];return _&&(_.classList.remove(h.config.errorClass),_.classList.remove(h.config.successClass)),b&&(b.innerHTML="",b.style.display="none"),E}function ue(f){var E=Ie(f)[0];E&&E.classList.add(h.config.successClass)}return h.reset=function(){for(var f=0;h.fields[f];f++)h.fields[f].errorElements=null;Array.from(h.form.querySelectorAll("."+le)).map(function(E){E.parentNode.removeChild(E)}),Array.from(h.form.querySelectorAll("."+h.config.classTo)).map(function(E){E.classList.remove(h.config.successClass),E.classList.remove(h.config.errorClass)})},h.destroy=function(){h.reset(),h.fields.forEach(function(f){delete f.input.pristine}),h.fields=[]},h.setGlobalConfig=function(f){oe=f},h}return N.addValidator=function(w,g,T,h,me){J(w,{fn:g,msg:T,priority:h,halt:me})},N.addMessages=function(w,g){var T=u.hasOwnProperty(w)?u[w]:u[w]={};Object.keys(g).forEach(function(h,me){T[h]=g[h]})},N.setLocale=function(w){te=w},N})})(bn);const yn=it,Z=document.querySelector(".img-upload__form"),ke=document.querySelector(".img-upload__preview img"),Bt=Z.hashtags,Cn=Z.description,wn={classTo:"text__hashtags__label",errorTextParent:"text__hashtags__label",errorTextClass:"hashtags__error"},xn=/^#[a-zа-яё0-9]*$/i;let pe="Default error";const Pn=a=>{if(a==="")return!0;const v=a.trim().toLocaleLowerCase().split(" ");return v.every(u=>u[0]!=="#"?(pe="Хэштег должен начинаться с #",!1):u.length>20?(pe="Максимальная длина одного хэш-тега 20 символов, включая решётку",!1):u.length===1?(pe="Хэштег не может состоять только из одной решётки",!1):xn.test(u)?v.length>5?(pe="Нельзя указать больше пяти хэш-тегов",!1):v.length!==new Set(v).size?(pe="Один и тот же хэш-тег не может быть использован дважды",!1):!0:(pe="Хэштег должен состоять из букв и цифр; не может содержать пробелы, спецсимволы (#, @, $ и т. п.), символы пунктуации (тире, дефис, запятая и т. п.), эмодзи и т. д.",!1))},lt=new yn(Z,wn);lt.addValidator(Bt,Pn,()=>pe);const _n=()=>lt.validate(),An=()=>lt.reset(),ct=25,Dt=ct,kt=100,Ln=Z.querySelector(".scale__control--smaller"),Tn=Z.querySelector(".scale__control--bigger"),Kt=Z.scale;let qe=parseInt(Kt.value,10);const Dn=qe,ut=a=>{ke.style.transform=`scale(${a/100})`,Kt.value=`${a}%`,qe=a},kn=()=>{let a=qe-ct;a<Dt&&(a=Dt),ut(a)},Mn=()=>{let a=qe+ct;a>kt&&(a=kt),ut(a)};Ln.addEventListener("click",kn);Tn.addEventListener("click",Mn);const On=()=>ut(Dn);var Me={},Vn={get exports(){return Me},set exports(a){Me=a}};(function(a,v){(function(u,A){A(v)})($t,function(u){u.PipsMode=void 0,function(r){r.Range="range",r.Steps="steps",r.Positions="positions",r.Count="count",r.Values="values"}(u.PipsMode||(u.PipsMode={})),u.PipsType=void 0,function(r){r[r.None=-1]="None",r[r.NoValue=0]="NoValue",r[r.LargeValue=1]="LargeValue",r[r.SmallValue=2]="SmallValue"}(u.PipsType||(u.PipsType={}));function A(r){return x(r)&&typeof r.from=="function"}function x(r){return typeof r=="object"&&typeof r.to=="function"}function M(r){r.parentElement.removeChild(r)}function j(r){return r!=null}function oe(r){r.preventDefault()}function le(r){return r.filter(function(e){return this[e]?!1:this[e]=!0},{})}function Ne(r,e){return Math.round(r/e)*e}function ze(r,e){var o=r.getBoundingClientRect(),d=r.ownerDocument,p=d.documentElement,P=T(d);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(P.x=0),e?o.top+P.y-p.clientTop:o.left+P.x-p.clientLeft}function ee(r){return typeof r=="number"&&!isNaN(r)&&isFinite(r)}function xe(r,e,o){o>0&&(N(r,e),setTimeout(function(){w(r,e)},o))}function te(r){return Math.max(Math.min(r,100),0)}function ce(r){return Array.isArray(r)?r:[r]}function J(r){r=String(r);var e=r.split(".");return e.length>1?e[1].length:0}function N(r,e){r.classList&&!/\s/.test(e)?r.classList.add(e):r.className+=" "+e}function w(r,e){r.classList&&!/\s/.test(e)?r.classList.remove(e):r.className=r.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function g(r,e){return r.classList?r.classList.contains(e):new RegExp("\\b"+e+"\\b").test(r.className)}function T(r){var e=window.pageXOffset!==void 0,o=(r.compatMode||"")==="CSS1Compat",d=e?window.pageXOffset:o?r.documentElement.scrollLeft:r.body.scrollLeft,p=e?window.pageYOffset:o?r.documentElement.scrollTop:r.body.scrollTop;return{x:d,y:p}}function h(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function me(){var r=!1;try{var e=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,e)}catch{}return r}function be(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ye(r,e){return 100/(e-r)}function he(r,e,o){return e*100/(r[o+1]-r[o])}function Pe(r,e){return he(r,r[0]<0?e+Math.abs(r[0]):e-r[0],0)}function Ie(r,e){return e*(r[1]-r[0])/100+r[0]}function ue(r,e){for(var o=1;r>=e[o];)o+=1;return o}function f(r,e,o){if(o>=r.slice(-1)[0])return 100;var d=ue(o,r),p=r[d-1],P=r[d],C=e[d-1],U=e[d];return C+Pe([p,P],o)/ye(C,U)}function E(r,e,o){if(o>=100)return r.slice(-1)[0];var d=ue(o,e),p=r[d-1],P=r[d],C=e[d-1],U=e[d];return Ie([p,P],(o-C)*ye(C,U))}function _(r,e,o,d){if(d===100)return d;var p=ue(d,r),P=r[p-1],C=r[p];return o?d-P>(C-P)/2?C:P:e[p-1]?r[p-1]+Ne(d-r[p-1],e[p-1]):d}var b=function(){function r(e,o,d){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[d||!1],this.xNumSteps=[!1],this.snap=o;var p,P=[];for(Object.keys(e).forEach(function(C){P.push([ce(e[C]),C])}),P.sort(function(C,U){return C[0][0]-U[0][0]}),p=0;p<P.length;p++)this.handleEntryPoint(P[p][1],P[p][0]);for(this.xNumSteps=this.xSteps.slice(0),p=0;p<this.xNumSteps.length;p++)this.handleStepPoint(p,this.xNumSteps[p])}return r.prototype.getDistance=function(e){for(var o=[],d=0;d<this.xNumSteps.length-1;d++)o[d]=he(this.xVal,e,d);return o},r.prototype.getAbsoluteDistance=function(e,o,d){var p=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[p+1];)p++;else e===this.xPct[this.xPct.length-1]&&(p=this.xPct.length-2);!d&&e===this.xPct[p+1]&&p++,o===null&&(o=[]);var P,C=1,U=o[p],y=0,Y=0,re=0,$=0;for(d?P=(e-this.xPct[p])/(this.xPct[p+1]-this.xPct[p]):P=(this.xPct[p+1]-e)/(this.xPct[p+1]-this.xPct[p]);U>0;)y=this.xPct[p+1+$]-this.xPct[p+$],o[p+$]*C+100-P*100>100?(Y=y*P,C=(U-100*P)/o[p+$],P=1):(Y=o[p+$]*y/100*C,C=0),d?(re=re-Y,this.xPct.length+$>=1&&$--):(re=re+Y,this.xPct.length-$>=1&&$++),U=o[p+$]*C;return e+re},r.prototype.toStepping=function(e){return e=f(this.xVal,this.xPct,e),e},r.prototype.fromStepping=function(e){return E(this.xVal,this.xPct,e)},r.prototype.getStep=function(e){return e=_(this.xPct,this.xSteps,this.snap,e),e},r.prototype.getDefaultStep=function(e,o,d){var p=ue(e,this.xPct);return(e===100||o&&e===this.xPct[p-1])&&(p=Math.max(p-1,1)),(this.xVal[p]-this.xVal[p-1])/d},r.prototype.getNearbySteps=function(e){var o=ue(e,this.xPct);return{stepBefore:{startValue:this.xVal[o-2],step:this.xNumSteps[o-2],highestStep:this.xHighestCompleteStep[o-2]},thisStep:{startValue:this.xVal[o-1],step:this.xNumSteps[o-1],highestStep:this.xHighestCompleteStep[o-1]},stepAfter:{startValue:this.xVal[o],step:this.xNumSteps[o],highestStep:this.xHighestCompleteStep[o]}}},r.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(J);return Math.max.apply(null,e)},r.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},r.prototype.convert=function(e){return this.getStep(this.toStepping(e))},r.prototype.handleEntryPoint=function(e,o){var d;if(e==="min"?d=0:e==="max"?d=100:d=parseFloat(e),!ee(d)||!ee(o[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(d),this.xVal.push(o[0]);var p=Number(o[1]);d?this.xSteps.push(isNaN(p)?!1:p):isNaN(p)||(this.xSteps[0]=p),this.xHighestCompleteStep.push(0)},r.prototype.handleStepPoint=function(e,o){if(o){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=he([this.xVal[e],this.xVal[e+1]],o,0)/ye(this.xPct[e],this.xPct[e+1]);var d=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],p=Math.ceil(Number(d.toFixed(3))-1),P=this.xVal[e]+this.xNumSteps[e]*p;this.xHighestCompleteStep[e]=P}},r}(),L={to:function(r){return r===void 0?"":r.toFixed(2)},from:Number},V={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},K={tooltips:".__tooltips",aria:".__aria"};function W(r,e){if(!ee(e))throw new Error("noUiSlider: 'step' is not numeric.");r.singleStep=e}function ne(r,e){if(!ee(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");r.keyboardPageMultiplier=e}function ve(r,e){if(!ee(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");r.keyboardMultiplier=e}function Ce(r,e){if(!ee(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");r.keyboardDefaultStep=e}function Yt(r,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");r.spectrum=new b(e,r.snap||!1,r.singleStep)}function Jt(r,e){if(e=ce(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");r.handles=e.length,r.start=e}function Qt(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");r.snap=e}function er(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");r.animate=e}function tr(r,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");r.animationDuration=e}function rr(r,e){var o=[!1],d;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(d=1;d<r.handles;d++)o.push(e);o.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==r.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");o=e}r.connect=o}function nr(r,e){switch(e){case"horizontal":r.ort=0;break;case"vertical":r.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function dt(r,e){if(!ee(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(r.margin=r.spectrum.getDistance(e))}function sr(r,e){if(!ee(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(r.limit=r.spectrum.getDistance(e),!r.limit||r.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function ir(r,e){var o;if(!ee(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||ee(e[0])||ee(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),r.padding=[r.spectrum.getDistance(e[0]),r.spectrum.getDistance(e[1])],o=0;o<r.spectrum.xNumSteps.length-1;o++)if(r.padding[0][o]<0||r.padding[1][o]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var d=e[0]+e[1],p=r.spectrum.xVal[0],P=r.spectrum.xVal[r.spectrum.xVal.length-1];if(d/(P-p)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ar(r,e){switch(e){case"ltr":r.dir=0;break;case"rtl":r.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function or(r,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var o=e.indexOf("tap")>=0,d=e.indexOf("drag")>=0,p=e.indexOf("fixed")>=0,P=e.indexOf("snap")>=0,C=e.indexOf("hover")>=0,U=e.indexOf("unconstrained")>=0,y=e.indexOf("drag-all")>=0,Y=e.indexOf("smooth-steps")>=0;if(p){if(r.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");dt(r,r.start[1]-r.start[0])}if(U&&(r.margin||r.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");r.events={tap:o||P,drag:d,dragAll:y,smoothSteps:Y,fixed:p,snap:P,hover:C,unconstrained:U}}function lr(r,e){if(e!==!1)if(e===!0||x(e)){r.tooltips=[];for(var o=0;o<r.handles;o++)r.tooltips.push(e)}else{if(e=ce(e),e.length!==r.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(d){if(typeof d!="boolean"&&!x(d))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),r.tooltips=e}}function cr(r,e){if(e.length!==r.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");r.handleAttributes=e}function ur(r,e){if(!x(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");r.ariaFormat=e}function fr(r,e){if(!A(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");r.format=e}function dr(r,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");r.keyboardSupport=e}function pr(r,e){r.documentElement=e}function mr(r,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");r.cssPrefix=e}function hr(r,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof r.cssPrefix=="string"?(r.cssClasses={},Object.keys(e).forEach(function(o){r.cssClasses[o]=r.cssPrefix+e[o]})):r.cssClasses=e}function pt(r){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:L,format:L},o={step:{r:!1,t:W},keyboardPageMultiplier:{r:!1,t:ne},keyboardMultiplier:{r:!1,t:ve},keyboardDefaultStep:{r:!1,t:Ce},start:{r:!0,t:Jt},connect:{r:!0,t:rr},direction:{r:!0,t:ar},snap:{r:!1,t:Qt},animate:{r:!1,t:er},animationDuration:{r:!1,t:tr},range:{r:!0,t:Yt},orientation:{r:!1,t:nr},margin:{r:!1,t:dt},limit:{r:!1,t:sr},padding:{r:!1,t:ir},behaviour:{r:!0,t:or},ariaFormat:{r:!1,t:ur},format:{r:!1,t:fr},tooltips:{r:!1,t:lr},keyboardSupport:{r:!0,t:dr},documentElement:{r:!1,t:pr},cssPrefix:{r:!0,t:mr},cssClasses:{r:!0,t:hr},handleAttributes:{r:!1,t:cr}},d={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:V,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};r.format&&!r.ariaFormat&&(r.ariaFormat=r.format),Object.keys(o).forEach(function(y){if(!j(r[y])&&d[y]===void 0){if(o[y].r)throw new Error("noUiSlider: '"+y+"' is required.");return}o[y].t(e,j(r[y])?r[y]:d[y])}),e.pips=r.pips;var p=document.createElement("div"),P=p.style.msTransform!==void 0,C=p.style.transform!==void 0;e.transformRule=C?"transform":P?"msTransform":"webkitTransform";var U=[["left","top"],["right","bottom"]];return e.style=U[e.dir][e.ort],e}function vr(r,e,o){var d=h(),p=be(),P=p&&me(),C=r,U,y,Y,re,$,D=e.spectrum,se=[],H=[],Q=[],je=0,ie={},ge=r.ownerDocument,_e=e.documentElement||ge.documentElement,Ae=ge.body,Sr=ge.dir==="rtl"||e.ort===1?0:100;function ae(t,n){var s=ge.createElement("div");return n&&N(s,n),t.appendChild(s),s}function Er(t,n){var s=ae(t,e.cssClasses.origin),i=ae(s,e.cssClasses.handle);if(ae(i,e.cssClasses.touchArea),i.setAttribute("data-handle",String(n)),e.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",function(l){return Rr(l,n)})),e.handleAttributes!==void 0){var c=e.handleAttributes[n];Object.keys(c).forEach(function(l){i.setAttribute(l,c[l])})}return i.setAttribute("role","slider"),i.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),n===0?N(i,e.cssClasses.handleLower):n===e.handles-1&&N(i,e.cssClasses.handleUpper),s.handle=i,s}function ht(t,n){return n?ae(t,e.cssClasses.connect):!1}function br(t,n){var s=ae(n,e.cssClasses.connects);y=[],Y=[],Y.push(ht(s,t[0]));for(var i=0;i<e.handles;i++)y.push(Er(n,i)),Q[i]=i,Y.push(ht(s,t[i+1]))}function yr(t){N(t,e.cssClasses.target),e.dir===0?N(t,e.cssClasses.ltr):N(t,e.cssClasses.rtl),e.ort===0?N(t,e.cssClasses.horizontal):N(t,e.cssClasses.vertical);var n=getComputedStyle(t).direction;return n==="rtl"?N(t,e.cssClasses.textDirectionRtl):N(t,e.cssClasses.textDirectionLtr),ae(t,e.cssClasses.base)}function Cr(t,n){return!e.tooltips||!e.tooltips[n]?!1:ae(t.firstChild,e.cssClasses.tooltip)}function vt(){return C.hasAttribute("disabled")}function $e(t){var n=y[t];return n.hasAttribute("disabled")}function wr(t){t!=null?(y[t].setAttribute("disabled",""),y[t].handle.removeAttribute("tabindex")):(C.setAttribute("disabled",""),y.forEach(function(n){n.handle.removeAttribute("tabindex")}))}function xr(t){t!=null?(y[t].removeAttribute("disabled"),y[t].handle.setAttribute("tabindex","0")):(C.removeAttribute("disabled"),y.forEach(function(n){n.removeAttribute("disabled"),n.handle.setAttribute("tabindex","0")}))}function Be(){$&&(we("update"+K.tooltips),$.forEach(function(t){t&&M(t)}),$=null)}function gt(){Be(),$=y.map(Cr),Ze("update"+K.tooltips,function(t,n,s){if(!(!$||!e.tooltips)&&$[n]!==!1){var i=t[n];e.tooltips[n]!==!0&&(i=e.tooltips[n].to(s[n])),$[n].innerHTML=i}})}function Pr(){we("update"+K.aria),Ze("update"+K.aria,function(t,n,s,i,c){Q.forEach(function(l){var S=y[l],m=Le(H,l,0,!0,!0,!0),R=Le(H,l,100,!0,!0,!0),O=c[l],q=String(e.ariaFormat.to(s[l]));m=D.fromStepping(m).toFixed(1),R=D.fromStepping(R).toFixed(1),O=D.fromStepping(O).toFixed(1),S.children[0].setAttribute("aria-valuemin",m),S.children[0].setAttribute("aria-valuemax",R),S.children[0].setAttribute("aria-valuenow",O),S.children[0].setAttribute("aria-valuetext",q)})})}function _r(t){if(t.mode===u.PipsMode.Range||t.mode===u.PipsMode.Steps)return D.xVal;if(t.mode===u.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=t.values-1,s=100/n,i=[];n--;)i[n]=n*s;return i.push(100),St(i,t.stepped)}return t.mode===u.PipsMode.Positions?St(t.values,t.stepped):t.mode===u.PipsMode.Values?t.stepped?t.values.map(function(c){return D.fromStepping(D.getStep(D.toStepping(c)))}):t.values:[]}function St(t,n){return t.map(function(s){return D.fromStepping(n?D.getStep(s):s)})}function Ar(t){function n(O,q){return Number((O+q).toFixed(7))}var s=_r(t),i={},c=D.xVal[0],l=D.xVal[D.xVal.length-1],S=!1,m=!1,R=0;return s=le(s.slice().sort(function(O,q){return O-q})),s[0]!==c&&(s.unshift(c),S=!0),s[s.length-1]!==l&&(s.push(l),m=!0),s.forEach(function(O,q){var F,k,I,X=O,B=s[q+1],G,Qe,et,tt,At,rt,Lt,Tt=t.mode===u.PipsMode.Steps;for(Tt&&(F=D.xNumSteps[q]),F||(F=B-X),B===void 0&&(B=X),F=Math.max(F,1e-7),k=X;k<=B;k=n(k,F)){for(G=D.toStepping(k),Qe=G-R,At=Qe/(t.density||1),rt=Math.round(At),Lt=Qe/rt,I=1;I<=rt;I+=1)et=R+I*Lt,i[et.toFixed(5)]=[D.fromStepping(et),0];tt=s.indexOf(k)>-1?u.PipsType.LargeValue:Tt?u.PipsType.SmallValue:u.PipsType.NoValue,!q&&S&&k!==B&&(tt=0),k===B&&m||(i[G.toFixed(5)]=[k,tt]),R=G}}),i}function Lr(t,n,s){var i,c,l=ge.createElement("div"),S=(i={},i[u.PipsType.None]="",i[u.PipsType.NoValue]=e.cssClasses.valueNormal,i[u.PipsType.LargeValue]=e.cssClasses.valueLarge,i[u.PipsType.SmallValue]=e.cssClasses.valueSub,i),m=(c={},c[u.PipsType.None]="",c[u.PipsType.NoValue]=e.cssClasses.markerNormal,c[u.PipsType.LargeValue]=e.cssClasses.markerLarge,c[u.PipsType.SmallValue]=e.cssClasses.markerSub,c),R=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],O=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];N(l,e.cssClasses.pips),N(l,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function q(k,I){var X=I===e.cssClasses.value,B=X?R:O,G=X?S:m;return I+" "+B[e.ort]+" "+G[k]}function F(k,I,X){if(X=n?n(I,X):X,X!==u.PipsType.None){var B=ae(l,!1);B.className=q(X,e.cssClasses.marker),B.style[e.style]=k+"%",X>u.PipsType.NoValue&&(B=ae(l,!1),B.className=q(X,e.cssClasses.value),B.setAttribute("data-value",String(I)),B.style[e.style]=k+"%",B.innerHTML=String(s.to(I)))}}return Object.keys(t).forEach(function(k){F(k,t[k][0],t[k][1])}),l}function Ke(){re&&(M(re),re=null)}function Ge(t){Ke();var n=Ar(t),s=t.filter,i=t.format||{to:function(c){return String(Math.round(c))}};return re=C.appendChild(Lr(n,s,i)),re}function Et(){var t=U.getBoundingClientRect(),n="offset"+["Width","Height"][e.ort];return e.ort===0?t.width||U[n]:t.height||U[n]}function fe(t,n,s,i){var c=function(S){var m=Tr(S,i.pageOffset,i.target||n);if(!m||vt()&&!i.doNotReject||g(C,e.cssClasses.tap)&&!i.doNotReject||t===d.start&&m.buttons!==void 0&&m.buttons>1||i.hover&&m.buttons)return!1;P||m.preventDefault(),m.calcPoint=m.points[e.ort],s(m,i)},l=[];return t.split(" ").forEach(function(S){n.addEventListener(S,c,P?{passive:!0}:!1),l.push([S,c])}),l}function Tr(t,n,s){var i=t.type.indexOf("touch")===0,c=t.type.indexOf("mouse")===0,l=t.type.indexOf("pointer")===0,S=0,m=0;if(t.type.indexOf("MSPointer")===0&&(l=!0),t.type==="mousedown"&&!t.buttons&&!t.touches)return!1;if(i){var R=function(F){var k=F.target;return k===s||s.contains(k)||t.composed&&t.composedPath().shift()===s};if(t.type==="touchstart"){var O=Array.prototype.filter.call(t.touches,R);if(O.length>1)return!1;S=O[0].pageX,m=O[0].pageY}else{var q=Array.prototype.find.call(t.changedTouches,R);if(!q)return!1;S=q.pageX,m=q.pageY}}return n=n||T(ge),(c||l)&&(S=t.clientX+n.x,m=t.clientY+n.y),t.pageOffset=n,t.points=[S,m],t.cursor=c||l,t}function bt(t){var n=t-ze(U,e.ort),s=n*100/Et();return s=te(s),e.dir?100-s:s}function Dr(t){var n=100,s=!1;return y.forEach(function(i,c){if(!$e(c)){var l=H[c],S=Math.abs(l-t),m=S===100&&n===100,R=S<n,O=S<=n&&t>l;(R||O||m)&&(s=c,n=S)}}),s}function kr(t,n){t.type==="mouseout"&&t.target.nodeName==="HTML"&&t.relatedTarget===null&&We(t,n)}function Mr(t,n){if(navigator.appVersion.indexOf("MSIE 9")===-1&&t.buttons===0&&n.buttonsProperty!==0)return We(t,n);var s=(e.dir?-1:1)*(t.calcPoint-n.startCalcPoint),i=s*100/n.baseSize;yt(s>0,i,n.locations,n.handleNumbers,n.connect)}function We(t,n){n.handle&&(w(n.handle,e.cssClasses.active),je-=1),n.listeners.forEach(function(s){_e.removeEventListener(s[0],s[1])}),je===0&&(w(C,e.cssClasses.drag),Je(),t.cursor&&(Ae.style.cursor="",Ae.removeEventListener("selectstart",oe))),e.events.smoothSteps&&(n.handleNumbers.forEach(function(s){de(s,H[s],!0,!0,!1,!1)}),n.handleNumbers.forEach(function(s){z("update",s)})),n.handleNumbers.forEach(function(s){z("change",s),z("set",s),z("end",s)})}function Xe(t,n){if(!n.handleNumbers.some($e)){var s;if(n.handleNumbers.length===1){var i=y[n.handleNumbers[0]];s=i.children[0],je+=1,N(s,e.cssClasses.active)}t.stopPropagation();var c=[],l=fe(d.move,_e,Mr,{target:t.target,handle:s,connect:n.connect,listeners:c,startCalcPoint:t.calcPoint,baseSize:Et(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:H.slice()}),S=fe(d.end,_e,We,{target:t.target,handle:s,listeners:c,doNotReject:!0,handleNumbers:n.handleNumbers}),m=fe("mouseout",_e,kr,{target:t.target,handle:s,listeners:c,doNotReject:!0,handleNumbers:n.handleNumbers});c.push.apply(c,l.concat(S,m)),t.cursor&&(Ae.style.cursor=getComputedStyle(t.target).cursor,y.length>1&&N(C,e.cssClasses.drag),Ae.addEventListener("selectstart",oe,!1)),n.handleNumbers.forEach(function(R){z("start",R)})}}function Or(t){t.stopPropagation();var n=bt(t.calcPoint),s=Dr(n);s!==!1&&(e.events.snap||xe(C,e.cssClasses.tap,e.animationDuration),de(s,n,!0,!0),Je(),z("slide",s,!0),z("update",s,!0),e.events.snap?Xe(t,{handleNumbers:[s]}):(z("change",s,!0),z("set",s,!0)))}function Vr(t){var n=bt(t.calcPoint),s=D.getStep(n),i=D.fromStepping(s);Object.keys(ie).forEach(function(c){c.split(".")[0]==="hover"&&ie[c].forEach(function(l){l.call(De,i)})})}function Rr(t,n){if(vt()||$e(n))return!1;var s=["Left","Right"],i=["Down","Up"],c=["PageDown","PageUp"],l=["Home","End"];e.dir&&!e.ort?s.reverse():e.ort&&!e.dir&&(i.reverse(),c.reverse());var S=t.key.replace("Arrow",""),m=S===c[0],R=S===c[1],O=S===i[0]||S===s[0]||m,q=S===i[1]||S===s[1]||R,F=S===l[0],k=S===l[1];if(!O&&!q&&!F&&!k)return!0;t.preventDefault();var I;if(q||O){var X=O?0:1,B=_t(n),G=B[X];if(G===null)return!1;G===!1&&(G=D.getDefaultStep(H[n],O,e.keyboardDefaultStep)),R||m?G*=e.keyboardPageMultiplier:G*=e.keyboardMultiplier,G=Math.max(G,1e-7),G=(O?-1:1)*G,I=se[n]+G}else k?I=e.spectrum.xVal[e.spectrum.xVal.length-1]:I=e.spectrum.xVal[0];return de(n,D.toStepping(I),!0,!0),z("slide",n),z("update",n),z("change",n),z("set",n),!1}function Ur(t){t.fixed||y.forEach(function(n,s){fe(d.start,n.children[0],Xe,{handleNumbers:[s]})}),t.tap&&fe(d.start,U,Or,{}),t.hover&&fe(d.move,U,Vr,{hover:!0}),t.drag&&Y.forEach(function(n,s){if(!(n===!1||s===0||s===Y.length-1)){var i=y[s-1],c=y[s],l=[n],S=[i,c],m=[s-1,s];N(n,e.cssClasses.draggable),t.fixed&&(l.push(i.children[0]),l.push(c.children[0])),t.dragAll&&(S=y,m=Q),l.forEach(function(R){fe(d.start,R,Xe,{handles:S,handleNumbers:m,connect:n})})}})}function Ze(t,n){ie[t]=ie[t]||[],ie[t].push(n),t.split(".")[0]==="update"&&y.forEach(function(s,i){z("update",i)})}function qr(t){return t===K.aria||t===K.tooltips}function we(t){var n=t&&t.split(".")[0],s=n?t.substring(n.length):t;Object.keys(ie).forEach(function(i){var c=i.split(".")[0],l=i.substring(c.length);(!n||n===c)&&(!s||s===l)&&(!qr(l)||s===l)&&delete ie[i]})}function z(t,n,s){Object.keys(ie).forEach(function(i){var c=i.split(".")[0];t===c&&ie[i].forEach(function(l){l.call(De,se.map(e.format.to),n,se.slice(),s||!1,H.slice(),De)})})}function Le(t,n,s,i,c,l,S){var m;return y.length>1&&!e.events.unconstrained&&(i&&n>0&&(m=D.getAbsoluteDistance(t[n-1],e.margin,!1),s=Math.max(s,m)),c&&n<y.length-1&&(m=D.getAbsoluteDistance(t[n+1],e.margin,!0),s=Math.min(s,m))),y.length>1&&e.limit&&(i&&n>0&&(m=D.getAbsoluteDistance(t[n-1],e.limit,!1),s=Math.min(s,m)),c&&n<y.length-1&&(m=D.getAbsoluteDistance(t[n+1],e.limit,!0),s=Math.max(s,m))),e.padding&&(n===0&&(m=D.getAbsoluteDistance(0,e.padding[0],!1),s=Math.max(s,m)),n===y.length-1&&(m=D.getAbsoluteDistance(100,e.padding[1],!0),s=Math.min(s,m))),S||(s=D.getStep(s)),s=te(s),s===t[n]&&!l?!1:s}function Ye(t,n){var s=e.ort;return(s?n:t)+", "+(s?t:n)}function yt(t,n,s,i,c){var l=s.slice(),S=i[0],m=e.events.smoothSteps,R=[!t,t],O=[t,!t];i=i.slice(),t&&i.reverse(),i.length>1?i.forEach(function(F,k){var I=Le(l,F,l[F]+n,R[k],O[k],!1,m);I===!1?n=0:(n=I-l[F],l[F]=I)}):R=O=[!0];var q=!1;i.forEach(function(F,k){q=de(F,s[F]+n,R[k],O[k],!1,m)||q}),q&&(i.forEach(function(F){z("update",F),z("slide",F)}),c!=null&&z("drag",S))}function Ct(t,n){return e.dir?100-t-n:t}function Fr(t,n){H[t]=n,se[t]=D.fromStepping(n);var s=Ct(n,0)-Sr,i="translate("+Ye(s+"%","0")+")";y[t].style[e.transformRule]=i,wt(t),wt(t+1)}function Je(){Q.forEach(function(t){var n=H[t]>50?-1:1,s=3+(y.length+n*t);y[t].style.zIndex=String(s)})}function de(t,n,s,i,c,l){return c||(n=Le(H,t,n,s,i,!1,l)),n===!1?!1:(Fr(t,n),!0)}function wt(t){if(Y[t]){var n=0,s=100;t!==0&&(n=H[t-1]),t!==Y.length-1&&(s=H[t]);var i=s-n,c="translate("+Ye(Ct(n,i)+"%","0")+")",l="scale("+Ye(i/100,"1")+")";Y[t].style[e.transformRule]=c+" "+l}}function xt(t,n){return t===null||t===!1||t===void 0||(typeof t=="number"&&(t=String(t)),t=e.format.from(t),t!==!1&&(t=D.toStepping(t)),t===!1||isNaN(t))?H[n]:t}function Te(t,n,s){var i=ce(t),c=H[0]===void 0;n=n===void 0?!0:n,e.animate&&!c&&xe(C,e.cssClasses.tap,e.animationDuration),Q.forEach(function(m){de(m,xt(i[m],m),!0,!1,s)});var l=Q.length===1?0:1;if(c&&D.hasNoSize()&&(s=!0,H[0]=0,Q.length>1)){var S=100/(Q.length-1);Q.forEach(function(m){H[m]=m*S})}for(;l<Q.length;++l)Q.forEach(function(m){de(m,H[m],!0,!0,s)});Je(),Q.forEach(function(m){z("update",m),i[m]!==null&&n&&z("set",m)})}function Hr(t){Te(e.start,t)}function Nr(t,n,s,i){if(t=Number(t),!(t>=0&&t<Q.length))throw new Error("noUiSlider: invalid handle number, got: "+t);de(t,xt(n,t),!0,!0,i),z("update",t),s&&z("set",t)}function Pt(t){if(t===void 0&&(t=!1),t)return se.length===1?se[0]:se.slice(0);var n=se.map(e.format.to);return n.length===1?n[0]:n}function zr(){for(we(K.aria),we(K.tooltips),Object.keys(e.cssClasses).forEach(function(t){w(C,e.cssClasses[t])});C.firstChild;)C.removeChild(C.firstChild);delete C.noUiSlider}function _t(t){var n=H[t],s=D.getNearbySteps(n),i=se[t],c=s.thisStep.step,l=null;if(e.snap)return[i-s.stepBefore.startValue||null,s.stepAfter.startValue-i||null];c!==!1&&i+c>s.stepAfter.startValue&&(c=s.stepAfter.startValue-i),i>s.thisStep.startValue?l=s.thisStep.step:s.stepBefore.step===!1?l=!1:l=i-s.stepBefore.highestStep,n===100?c=null:n===0&&(l=null);var S=D.countStepDecimals();return c!==null&&c!==!1&&(c=Number(c.toFixed(S))),l!==null&&l!==!1&&(l=Number(l.toFixed(S))),[l,c]}function Ir(){return Q.map(_t)}function jr(t,n){var s=Pt(),i=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];i.forEach(function(l){t[l]!==void 0&&(o[l]=t[l])});var c=pt(o);i.forEach(function(l){t[l]!==void 0&&(e[l]=c[l])}),D=c.spectrum,e.margin=c.margin,e.limit=c.limit,e.padding=c.padding,e.pips?Ge(e.pips):Ke(),e.tooltips?gt():Be(),H=[],Te(j(t.start)?t.start:s,n)}function $r(){U=yr(C),br(e.connect,U),Ur(e.events),Te(e.start),e.pips&&Ge(e.pips),e.tooltips&&gt(),Pr()}$r();var De={destroy:zr,steps:Ir,on:Ze,off:we,get:Pt,set:Te,setHandle:Nr,reset:Hr,disable:wr,enable:xr,__moveHandles:function(t,n,s){yt(t,n,H,s)},options:o,updateOptions:jr,target:C,removePips:Ke,removeTooltips:Be,getPositions:function(){return H.slice()},getTooltips:function(){return $},getOrigins:function(){return y},pips:Ge};return De}function mt(r,e){if(!r||!r.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+r);if(r.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var o=pt(e),d=vr(r,o,e);return r.noUiSlider=d,d}var gr={__spectrum:b,cssClasses:V,create:mt};u.create=mt,u.cssClasses=V,u.default=gr,Object.defineProperty(u,"__esModule",{value:!0})})})(Vn,Me);const Rn=En(Me);const Oe=(a,v,u,A=v)=>({range:{min:a,max:v},start:A,step:u}),Mt=Oe(0,1,.1),Ot=Oe(0,100,1),ft={none:{slider:Ot},chrome:{filter:a=>`grayscale(${a})`,slider:Mt},sepia:{filter:a=>`sepia(${a})`,slider:{...Mt}},marvin:{filter:a=>`invert(${a}%)`,slider:{...Ot}},phobos:{filter:a=>`blur(${a}px)`,slider:Oe(0,3,.1)},heat:{filter:a=>`brightness(${a})`,slider:Oe(1,3,.1)}},Fe=Z.querySelector(".img-upload__effect-level"),Un=Fe.querySelector(".effect-level__slider"),qn=Z.querySelector(".img-upload__effects"),Ve=Z.effect,Fn=Z["effect-level"];Fe.hidden=!0;const Gt=ft[Ve.value].slider,He=Rn.create(Un,Gt),Hn=()=>{const a=Ve.value;Fe.hidden=a==="none",ke.className=`effects__preview--${Ve.value}`,He.updateOptions(ft[a].slider)},Nn=()=>{const a=He.get(),{filter:v}=ft[Ve.value];v?ke.style.filter=v(a):ke.style.removeProperty("filter"),Fn.value=a};qn.addEventListener("change",Hn);He.on("update",Nn);const zn=()=>{Fe.hidden=!0,He.updateOptions(Gt)},Wt=Z.querySelector(".img-upload__overlay"),Vt=Z.querySelector("#upload-submit"),In=Z.filename,jn=()=>document.activeElement===Bt||document.activeElement===Cn,Xt=()=>Z.reset(),Zt=a=>{at(a)&&!jn()&&(a.preventDefault(),Xt())},$n=()=>{Ue(Wt),document.addEventListener("keydown",Zt)};In.addEventListener("change",$n);Z.addEventListener("reset",()=>{Ue(Wt,!1),document.removeEventListener("keydown",Zt),An(),On(),zn()});Z.addEventListener("submit",a=>{if(a.preventDefault(),_n()){Vt.disabled=!0;const u=new FormData(a.target);Zr(u).then(()=>{Xt(),Gr()}).catch(()=>qt()).finally(Vt.disabled=!1)}});
